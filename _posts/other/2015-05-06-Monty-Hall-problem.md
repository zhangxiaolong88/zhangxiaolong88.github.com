---
layout: post
title: 蒙提霍尔问题
categories: [other]
tags: [趣题]
---

`蒙提霍尔问题`（Monty Hall problem），亦称为`三门问题`，有可能是历史上最富争议的概率问题。

蒙提·霍尔是美国电视游戏节目 Let's Make a Deal 的主持人，蒙提霍尔问题就是源自该节目中的一个游戏。

這个游戏的玩法是：参赛者会看见三扇关闭的门，其中一扇门的后面有汽车，选中后面有汽车的那扇门就可以贏得该汽车。而另外两扇门后面则各藏有一只山羊。当参赛者选定了一扇门，但未去开启它的时候，知道门后情形的节目主持人会开启剩下两扇门中的一扇，露出其中一只山羊。主持人其后会问参赛者要不要换另一扇仍然关上的门。

####问题是：换另一扇门是否会增加参赛者贏得汽车的概率？

这个问题也被叫做蒙提霍尔悖论：虽然该问题的答案在逻辑上并不自相矛盾，但十分违反直觉。这个问题曾引起热烈的讨论。

**明确的限制条件：**

Mueser 和 Granberg 为主持人的行为加上明确的限制条件，提出了对这个问题的一种不含糊的陈述：

- 参赛者在三扇门中挑选一扇。他并不知道门后是什么。

- 主持人知道每扇门后面有什么。

- 主持人必须开启剩下两扇门中的一扇，并且必须给参赛者提供换门的机会。

- 主持人永远都会开启一扇有山羊的门。

1）如果参赛者挑选了一扇有山羊的门，主持人必須开启另一扇有山羊的门。

2）如果参赛者挑选了一扇有汽车的门，主持人随机开启另外两扇有山羊的门中的一扇。

**参赛者会被问是否保持他的原来的选择，还是转而选择剩下的那一扇门。**

改变选择可以增加参赛者赢得汽车的概率吗？

```javascript
    var getRandom = function(m, n) {
        return Math.floor(Math.random() * (n - m + 1) + m);
    };

    var car, choice, shown;

    var game = function() {
        car = getRandom(0, 2);
        choice = getRandom(0, 2);
        shown = getShown();
    };

    var getShown = function() {
        // 如果第一次选中的是羊 那么主持人打开另一扇是羊的门
        /** start ** /
        if (car !== choice) {
            return 3 - car - choice;
        }
        /** end ** /
        // 如果第一次选中了车 那么随机打开另外两扇门
        if (choice == 0) {
            return getRandom(1, 2);
        } else if (choice == 1) {
            return getRandom(0, 1) * 2;
        } else if (choice == 2) {
            return getRandom(0, 1);
        }
    };

    var change = 0,
        notChange = 0;
    for (var i = 0; i < 1000000; i++) {
        game();
        if (car == (3 - shown - choice)) {
            change++;
        }
        if (car == choice) {
            notChange++;
        }
    }
    console.log("change:" + change / i * 100 + "%");
    console.log("notchange:" + notChange / i * 100 + "%");
```

####运行结果

测试次数: 1,000,000  
保持选择: 333,044 (33.30%)  
改变选择: 666,956 (66.70%)

测试次数: 1,000,000  
保持选择: 333,583 (33.36%)  
改变选择: 666,417 (66.64%)

测试次数: 1,000,000
保持选择: 332,968 (33.30%)  
改变选择: 667,032 (66.70%)



从上面运行结果看，保持选择赢得汽车的概率是 1/3，而改变选择赢得汽车的概率是 2/3 。

###如果主持人不知道奖品在哪里

理解蒙提霍尔问题的重点在于要明白蒙提打开一扇门实际上是给你提供了信息。想象一下，如果蒙提不知道奖品在哪里，随机打开B门或C门，会怎么样？

这个问题只要删除上述 程序start 至 end部分，运行结果如下：

测试次数: 1,000,000  
保持选择: 335,483 (33.55%)  
改变选择: 330,986 (33.10%)

可见在此情况下，坚持和改变选择是一样的，都只有 1/3 的概率赢得奖品。
